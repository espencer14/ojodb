<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analyze Data from the Open Justice Oklahoma Database • ojodb</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Analyze Data from the Open Justice Oklahoma Database">
<meta property="og:description" content="Provides convenient functions to query court data from the Open Justice Oklahoma database">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ojodb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="ojodb" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ojodb" class="anchor"></a>ojodb</h1></div>
<p>ojodb is a package that assists <a href="https://openjustice.okpolicy.org/">Open Justice Oklahoma</a> analysts to access and analyze court, jail, prison, and other data collected from various sources.</p>
<p>The pkgdown website for the ojodb package can be found <a href="https://openjusticeok.github.io/ojodb/">here</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the ojodb package from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"openjusticeok/ojodb"</span>)</pre></div>
<p>After installation, update it with:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="fu">ojo_reinstall</span>()</pre></div>
</div>
<div id="the-big-picture" class="section level2">
<h2 class="hasAnchor">
<a href="#the-big-picture" class="anchor"></a>The big picture</h2>
<p>The goal of Open Justice Oklahoma is to collect and analyze hard-to-access data in order to better understand our state’s justice system. The backbone of our work is our database, which consists of administrative data gathered mainly from courts, jails, and prisons across the state. OJO processes go out to each of these data sources periodically and pull new data into our database. For example, we have OSCN scrapers set up to periodically visit small claims case pages like <a href="https://www.oscn.net/dockets/GetCaseInformation.aspx?db=tulsa&amp;number=SC-2019-10">this one</a> every few days, gathering new data that appears in the course of a case.</p>
<p>We’re generally not interested in what happens in a single case, though. What we’re really interested in is the aggregate effects. In the case linked above, for instance, we see that the eviction case was filed on January 2, 2019, and granted by default judgment on January 11. We can use our database to figure out how many eviction cases are filed and how many resulted in a default judgment.</p>
<p>This is information that isn’t compiled anywhere else, so our database gives us the opportunity to</p>
</div>
<div id="exploring-the-ojo-database" class="section level2">
<h2 class="hasAnchor">
<a href="#exploring-the-ojo-database" class="anchor"></a>Exploring the OJO database</h2>
<p>To list all tables in the OJO database, use <code><a href="reference/ojo_list_tables.html">ojo_list_tables()</a></code>. Each table name begins with a prefix indicating the source of the data.</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ojo</span>)

<span class="fu"><a href="reference/ojo_list_tables.html">ojo_list_tables</a></span>()</pre></div>
<p>To see the variables and first 10 rows of a table, call <code>ojo_tbl()</code> on it:</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="fu">ojo_tbl</span>(<span class="st">"oscn_crim_disps"</span>)</pre></div>
</div>
<div id="pulling-data-into-r" class="section level2">
<h2 class="hasAnchor">
<a href="#pulling-data-into-r" class="anchor"></a>Pulling data into R</h2>
<p>In many cases, you’ll only be interested in a particular county, time period, and/or case type. You can now limit the data using the <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> function, then use <code><a href="reference/ojo_collect.html">ojo_collect()</a></code> to bring the pre-filtered data into R.</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="no">d</span> <span class="kw">&lt;-</span> <span class="fu">ojo_tbl</span>(<span class="st">"oscn_crim_disps"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">court</span> <span class="kw">==</span> <span class="st">"ROGERS"</span>, <span class="no">casetype</span> <span class="kw">==</span> <span class="st">"CM"</span>, <span class="no">file_year</span> <span class="kw">==</span> <span class="fl">2019</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="reference/ojo_collect.html">ojo_collect</a></span>()</pre></div>
<p>The first line points to the <code>oscn_crim_disps</code> table (basically <code>SELECT \* FROM oscn_crim_disps</code>). The second line limits the query (<code>WHERE court = 'ROGERS' AND casetype = 'CM' AND file_year = 2019</code>), so you’re only getting the data you want, not querying the entire table. <code><a href="reference/ojo_collect.html">ojo_collect()</a></code> executes the query, creates a dataframe in R, and closes the connection to the database (<code>disconnect_ojo()</code>). This should mostly eliminate the need for calling <code><a href="reference/connect_ojo.html">connect_ojo()</a></code> before querying and <code>disconnect_ojo()</code> afterward.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Ryan Gentzler <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Ryan Gentzler.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
